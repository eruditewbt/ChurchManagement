{{! Updated register.hbs View
This HTML view file for the registration form has been updated to include all the new fields with appropriate input types and dropdowns, matching the requirements. }}

<html lang="en">

  <head>
    <title>Register Page</title>
    <link href="style.css" rel="stylesheet" />
    {{! Using a date picker library can enhance user experience }}
    {{!-- <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css"
    /> --}}
  </head>

  <body>
    <nav id="main-nav" class="navbar">
      <h4 class="navbar-title">USER REGISTER</h4>
      <div>
        <a href="/?agent={{agent}}">Home</a>
        <a href="/login?agent={{agent}}">Login</a>
        <a href="/register?agent={{agent}}">Register</a>
      </div>
    </nav>

    <main>
      <div class="container mt-4">
        <div class="card">
          <div class="card-header">Register New User</div>
          <div class="card-body">
            {{#if userId}}
              <form action="/update-user/{{userId.id}}?agent={{agent}}" method="POST">
                <div class="mb-3">
                  <label for="date-input" class="form-label">Date</label>
                  <input
                    type="date"
                    class="form-control"
                    id="date-input"
                    name="DATE"
                    {{!-- value="{{userId.DATE}}" --}}
                    required
                  />
                </div>

                <div class="mb-3">
                  <label for="name-input" class="form-label">Full Name</label>
                  <input
                    type="text"
                    class="form-control"
                    id="name-input"
                    name="NAME"
                    placeholder="First Name and Other Names"
                    {{!-- value="{{userId.NAME}}" --}}
                    required
                  />
                </div>

                <div class="mb-3">
                  <label for="sex-input" class="form-label">Sex</label>
                  <select
                    class="form-control"
                    id="sex-input"
                    name="SEX"
                    {{!-- value="{{userId.SEX}}" --}}
                    required
                  >
                    <option value="">Select Sex</option>
                    <option value="M">M</option>
                    <option value="F">F</option>
                  </select>
                </div>

                <div class="mb-3">
                  <label for="address-input" class="form-label">Address</label>
                  <input
                    type="text"
                    class="form-control"
                    id="address-input"
                    name="ADDRESS"
                    {{!-- value="{{userId.ADDRESS}}" --}}
                  />
                </div>

                <div class="mb-3">
                  <label for="followup-input" class="form-label">Follow Up</label>
                  <input
                    type="text"
                    class="form-control"
                    id="followup-input"
                    name="FOLLOWUP"
                    {{!-- value="{{userId.FOLLOWUP}}" --}}
                  />
                </div>

                <div class="mb-3">
                  <label for="cat-input" class="form-label">CAT</label>
                  <select
                    class="form-control"
                    id="cat-input"
                    name="CAT"
                    {{!-- value="{{userId.CAT}}" --}}
                    required
                  >
                    <option value="">Select Category</option>
                    <option value="NC">NC</option>
                    <option value="FT">FT</option>
                    <option value="OLD MEMBER">OLD MEMBER</option>
                  </select>
                </div>

                <div class="mb-3">
                  <label for="phone-input" class="form-label">Phone Number</label>
                  <input
                    type="tel"
                    class="form-control"
                    id="phone-input"
                    name="PHONENUMBER"
                    {{!-- value="{{userId.PHONENUMBER}}" --}}
                    required
                  />
                </div>

                <div class="mb-3">
                  <label for="prayer-input" class="form-label">Prayer</label>
                  <textarea
                    class="form-control"
                    id="prayer-input"
                    name="PRAYER"
                    rows="3"
                    {{!-- value="{{userId.PRAYER}}" --}}
                  ></textarea>
                </div>

                <div class="mb-3">
                  <label for="email-input" class="form-label">Email</label>
                  <input
                    type="email"
                    class="form-control"
                    id="email-input"
                    name="EMAIL"
                    {{!-- value="{{userId.EMAIL}}" --}}
                    required
                  />
                </div>

                <div class="mb-3">
                  <label for="creator-input" class="form-label">Creator</label>
                  <input
                    type="text"
                    class="form-control"
                    id="creator-input"
                    name="CREATOR"
                    {{!-- value="{{userId.CREATOR}}" --}}
                    required
                  />
                </div>

                <div class="mb-3">
                  <label for="unit-input" class="form-label">Unit</label>
                  <select
                    class="form-control"
                    id="unit-input"
                    name="UNIT"
                    {{!-- value="{{userId.UNIT}}" --}}
                    required
                  >
                    <option value="">Select Unit</option>
                    <option value="Choir">Choir</option>
                    <option value="Hospitality">Hospitality</option>
                    <option value="Evangelism">Evangelism</option>
                    <option value="Media">Media</option>
                    <option value="Ushering">Ushering</option>
                    <option value="Prayer">Prayer</option>
                    <option value="Protocol">Protocol</option>
                    <option value="Children">Children</option>
                    <option value="Sanctuary">Sanctuary</option>
                    <option value="Technical">Technical</option>
                    <option value="Welfare">Welfare</option>
                    <option value="Drama">Drama</option>
                    <option value="Follow Up">Follow Up</option>
                    <option value="Security">Security</option>
                    <option value="Decoration">Decoration</option>
                    <option value="Transport">Transport</option>
                    <option value="Counseling">Counseling</option>
                    <option value="Youth">Youth</option>
                    <option value="Teen">Teen</option>
                    <option value="Women">Women</option>
                    <option value="Men">Men</option>
                    <option value="Other">Other</option>
                  </select>
                </div>

                {{! <div class="mb-3">
                  <label for="auth-token-input" class="form-label">Authorization
                    Token</label>
                  <input
                    type="password"
                    class="form-control"
                    id="auth-token-input"
                    name="authToken"
                    required
                  />
                </div>

                <button type="submit" class="btn btn-primary">Register</button> }}
                <button type="submit" class="btn btn-primary">Update User
                  Information</button>
              </form>
            {{else}}
              <form action="/register?agent={{agent}}" method="POST">
                <div class="mb-3">
                  <label for="date-input" class="form-label">Date</label>
                  <input
                    type="date"
                    class="form-control"
                    id="date-input"
                    name="DATE"
                    required
                  />
                </div>

                <div class="mb-3">
                  <label for="name-input" class="form-label">Full Name</label>
                  <input
                    type="text"
                    class="form-control"
                    id="name-input"
                    name="NAME"
                    placeholder="First Name and Other Names"
                    required
                  />
                </div>

                <div class="mb-3">
                  <label for="sex-input" class="form-label">Sex</label>
                  <select
                    class="form-control"
                    id="sex-input"
                    name="SEX"
                    required
                  >
                    <option value="">Select Sex</option>
                    <option value="M">M</option>
                    <option value="F">F</option>
                  </select>
                </div>

                <div class="mb-3">
                  <label for="address-input" class="form-label">Address</label>
                  <input
                    type="text"
                    class="form-control"
                    id="address-input"
                    name="ADDRESS"
                  />
                </div>

                <div class="mb-3">
                  <label for="followup-input" class="form-label">Follow Up</label>
                  <input
                    type="text"
                    class="form-control"
                    id="followup-input"
                    name="FOLLOWUP"
                  />
                </div>

                <div class="mb-3">
                  <label for="cat-input" class="form-label">CAT</label>
                  <select
                    class="form-control"
                    id="cat-input"
                    name="CAT"
                    required
                  >
                    <option value="">Select Category</option>
                    <option value="NC">NC</option>
                    <option value="FT">FT</option>
                    <option value="OLD MEMBER">OLD MEMBER</option>
                  </select>
                </div>

                <div class="mb-3">
                  <label for="phone-input" class="form-label">Phone Number</label>
                  <input
                    type="tel"
                    class="form-control"
                    id="phone-input"
                    name="PHONENUMBER"
                    required
                  />
                </div>

                <div class="mb-3">
                  <label for="prayer-input" class="form-label">Prayer</label>
                  <textarea
                    class="form-control"
                    id="prayer-input"
                    name="PRAYER"
                    rows="3"
                  ></textarea>
                </div>

                <div class="mb-3">
                  <label for="email-input" class="form-label">Email</label>
                  <input
                    type="email"
                    class="form-control"
                    id="email-input"
                    name="EMAIL"
                    required
                  />
                </div>

                <div class="mb-3">
                  <label for="creator-input" class="form-label">Creator</label>
                  <input
                    type="text"
                    class="form-control"
                    id="creator-input"
                    name="CREATOR"
                    required
                  />
                </div>

                <div class="mb-3">
                  <label for="unit-input" class="form-label">Unit</label>
                  <select
                    class="form-control"
                    id="unit-input"
                    name="UNIT"
                    required
                  >
                    <option value="">Select Unit</option>
                    <option value="Choir">Choir</option>
                    <option value="Hospitality">Hospitality</option>
                    <option value="Evangelism">Evangelism</option>
                    <option value="Media">Media</option>
                    <option value="Ushering">Ushering</option>
                    <option value="Prayer">Prayer</option>
                    <option value="Protocol">Protocol</option>
                    <option value="Children">Children</option>
                    <option value="Sanctuary">Sanctuary</option>
                    <option value="Technical">Technical</option>
                    <option value="Welfare">Welfare</option>
                    <option value="Drama">Drama</option>
                    <option value="Follow Up">Follow Up</option>
                    <option value="Security">Security</option>
                    <option value="Decoration">Decoration</option>
                    <option value="Transport">Transport</option>
                    <option value="Counseling">Counseling</option>
                    <option value="Youth">Youth</option>
                    <option value="Teen">Teen</option>
                    <option value="Women">Women</option>
                    <option value="Men">Men</option>
                    <option value="Other">Other</option>
                  </select>
                </div>
                {{!-- {{#if notWorker}} --}}
                <div class="mb-3">
                  <label for="auth-token-input" class="form-label">Authorization
                    Token</label>
                  <input
                    type="password"
                    class="form-control"
                    id="auth-token-input"
                    name="authToken"
                    {{! required }}
                  />
                </div>
                {{!-- {{/if}} --}}
                <button type="submit" class="btn btn-primary">Register</button>
              </form>
            {{/if}}
          </div>
        </div>
      </div>
    </main>

    {{#if success_msg}}
      <div id="popup-success" class="popup-message success alert alert-success">
        <span class="popup-icon">✔️</span>
        <span>{{success_msg}}</span>
        <button
          class="popup-close"
        >&times;</button>
      </div>
    {{/if}}
    {{#if error_msg}}
      <div id="popup-error" class="popup-message error alert alert-danger">
        <span class="popup-icon">❌</span>
        <span>{{error_msg}}</span>
        <button
          class="popup-close"
        >&times;</button>
      </div>
    {{/if}}
    <footer>
      <p>&copy; 2025 Church Member Management. All rights reserved.</p>
    </footer>
    {{! Include the Flatpickr library for the date input }}
    {{!-- <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script> --}}
    <script src="script.js"></script>

  </body>

</html>